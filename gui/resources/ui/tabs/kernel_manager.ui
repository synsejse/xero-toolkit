<?xml version="1.0" encoding="UTF-8"?>
<interface>
    <requires lib="gtk" version="4.0"/>
    <requires lib="libadwaita" version="1.0"/>

    <object class="GtkBox" id="page_kernel_manager">
        <property name="orientation">vertical</property>
        <property name="spacing">0</property>
        <property name="margin-top">48</property>
        <property name="margin-bottom">48</property>
        <property name="margin-start">48</property>
        <property name="margin-end">48</property>
        <property name="hexpand">true</property>
        <property name="vexpand">true</property>
        <property name="halign">fill</property>
        <property name="valign">fill</property>

        <!-- Top Section: Compact Header with Refresh Button -->
        <child>
            <object class="GtkBox">
                <property name="orientation">horizontal</property>
                <property name="spacing">16</property>
                <property name="halign">fill</property>
                <property name="valign">start</property>
                <property name="vexpand">false</property>
                <property name="margin-start">12</property>
                <property name="margin-end">12</property>

                <child>
                    <object class="GtkImage">
                        <property name="icon-name">hammer-symbolic</property>
                        <property name="pixel-size">48</property>
                        <property name="valign">start</property>
                    </object>
                </child>

                <child>
                    <object class="GtkBox">
                        <property name="orientation">vertical</property>
                        <property name="spacing">4</property>
                        <property name="valign">center</property>
                        <property name="hexpand">true</property>

                        <child>
                            <object class="GtkLabel">
                                <property name="label">Kernel Manager</property>
                                <property name="css-classes">title-2</property>
                                <property name="halign">start</property>
                                <property name="xalign">0</property>
                            </object>
                        </child>

                        <child>
                            <object class="GtkLabel">
                                <property name="label">Install and manage Linux kernels with headers</property>
                                <property name="css-classes">dim-label</property>
                                <property name="halign">start</property>
                                <property name="xalign">0</property>
                                <property name="wrap">true</property>
                            </object>
                        </child>
                    </object>
                </child>

                <child>
                    <object class="GtkButton" id="btn_refresh_kernels">
                        <property name="icon-name">view-refresh-symbolic</property>
                        <property name="tooltip-text">Scan for available and installed kernels</property>
                        <property name="valign">center</property>
                        <style>
                            <class name="flat"/>
                            <class name="circular"/>
                        </style>
                    </object>
                </child>
            </object>
        </child>

        <!-- Main Content Section -->
        <child>
            <object class="GtkScrolledWindow">
                <property name="vexpand">true</property>
                <property name="hscrollbar-policy">never</property>
                <child>
                    <object class="AdwClamp">
                        <property name="maximum-size">1200</property>
                        <property name="tightening-threshold">900</property>
                        <property name="margin-start">12</property>
                        <property name="margin-end">12</property>
                        <property name="margin-bottom">24</property>
                        <property name="margin-top">24</property>
                        <child>
                            <object class="GtkBox">
                                <property name="orientation">vertical</property>
                                <property name="spacing">24</property>
                                <property name="vexpand">true</property>
                                <property name="valign">fill</property>

                                <!-- Loading State -->
                                <child>
                                    <object class="GtkBox" id="loading_box">
                                        <property name="orientation">horizontal</property>
                                        <property name="spacing">8</property>
                                        <property name="halign">center</property>
                                        <property name="margin-top">24</property>
                                        <property name="margin-bottom">24</property>
                                        <property name="visible">false</property>

                                        <child>
                                            <object class="GtkLabel">
                                                <property name="label">Scanning for kernels...</property>
                                                <style>
                                                    <class name="accent"/>
                                                </style>
                                            </object>
                                        </child>

                                        <child>
                                            <object class="GtkSpinner" id="loading_spinner">
                                                <property name="spinning">true</property>
                                            </object>
                                        </child>
                                    </object>
                                </child>

                                <!-- Kernel Lists Section -->
                                <child>
                                    <object class="GtkBox" id="content_box">
                                        <property name="orientation">horizontal</property>
                                        <property name="spacing">24</property>
                                        <property name="homogeneous">true</property>
                                        <property name="vexpand">true</property>
                                        <property name="valign">fill</property>

                                        <!-- Installed Kernels -->
                                        <child>
                                            <object class="AdwPreferencesGroup">
                                                <property name="title">Installed Kernels</property>
                                                <child>
                                                    <object class="GtkLabel" id="installed_count_label">
                                                        <property name="label">0 installed</property>
                                                        <property name="xalign">0</property>
                                                        <property name="margin-start">12</property>
                                                        <property name="margin-bottom">6</property>
                                                        <style>
                                                            <class name="dim-label"/>
                                                            <class name="caption"/>
                                                        </style>
                                                    </object>
                                                </child>
                                                <child>
                                                    <object class="GtkFrame">
                                                        <property name="vexpand">true</property>
                                                        <style>
                                                            <class name="view"/>
                                                        </style>
                                                        <child>
                                                            <object class="GtkScrolledWindow">
                                                                <property name="vexpand">true</property>
                                                                <child>
                                                                    <object class="GtkListBox" id="installed_kernels_list">
                                                                        <property name="selection-mode">none</property>
                                                                        <style>
                                                                            <class name="boxed-list"/>
                                                                        </style>
                                                                    </object>
                                                                </child>
                                                            </object>
                                                        </child>
                                                    </object>
                                                </child>
                                            </object>
                                        </child>

                                        <!-- Available Kernels -->
                                        <child>
                                            <object class="AdwPreferencesGroup">
                                                <property name="title">Available Kernels</property>
                                                <child>
                                                    <object class="GtkLabel" id="available_count_label">
                                                        <property name="label">0 available</property>
                                                        <property name="xalign">0</property>
                                                        <property name="margin-start">12</property>
                                                        <property name="margin-bottom">6</property>
                                                        <style>
                                                            <class name="dim-label"/>
                                                            <class name="caption"/>
                                                        </style>
                                                    </object>
                                                </child>
                                                <child>
                                                    <object class="GtkFrame">
                                                        <property name="vexpand">true</property>
                                                        <style>
                                                            <class name="view"/>
                                                        </style>
                                                        <child>
                                                            <object class="GtkScrolledWindow">
                                                                <property name="vexpand">true</property>
                                                                <child>
                                                                    <object class="GtkListBox" id="available_kernels_list">
                                                                        <property name="selection-mode">none</property>
                                                                        <style>
                                                                            <class name="boxed-list"/>
                                                                        </style>
                                                                    </object>
                                                                </child>
                                                            </object>
                                                        </child>
                                                    </object>
                                                </child>
                                            </object>
                                        </child>
                                    </object>
                                </child>

                            </object>
                        </child>
                    </object>
                </child>
            </object>
        </child>
    </object>
</interface>
