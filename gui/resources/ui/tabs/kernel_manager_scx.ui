<?xml version="1.0" encoding="UTF-8"?>
<interface>
    <requires lib="gtk" version="4.0"/>
    <requires lib="libadwaita" version="1.0"/>

    <object class="GtkBox" id="page_kernel_manager_scx">
        <property name="orientation">vertical</property>

        <!-- Header Section -->
        <child>
            <object class="GtkBox">
                <property name="orientation">vertical</property>
                <property name="spacing">6</property>
                <property name="margin-top">24</property>
                <property name="margin-bottom">24</property>
                <child>
                    <object class="GtkLabel">
                        <property name="label">Kernel Manager</property>
                        <style>
                            <class name="title-1"/>
                        </style>
                    </object>
                </child>
                <child>
                    <object class="GtkLabel">
                        <property name="label">Install and manage Linux kernels with headers</property>
                        <style>
                            <class name="dim-label"/>
                        </style>
                    </object>
                </child>
            </object>
        </child>

        <!-- Main Content -->
        <child>
            <object class="GtkScrolledWindow">
                <property name="vexpand">true</property>
                <property name="hscrollbar-policy">never</property>
                <child>
                    <object class="AdwClamp">
                        <property name="maximum-size">1200</property>
                        <property name="tightening-threshold">900</property>
                        <property name="margin-start">12</property>
                        <property name="margin-end">12</property>
                        <property name="margin-bottom">24</property>
                        <child>
                            <object class="GtkBox">
                                <property name="orientation">vertical</property>
                                <property name="spacing">24</property>

                                <!-- Kernel Lists Section -->
                                <child>
                                    <object class="GtkBox">
                                        <property name="orientation">horizontal</property>
                                        <property name="spacing">24</property>
                                        <property name="homogeneous">true</property>
                                        <property name="valign">start</property>

                                        <!-- Installed Kernels -->
                                        <child>
                                            <object class="AdwPreferencesGroup">
                                                <property name="title">Installed Kernels</property>
                                                <child>
                                                    <object class="GtkLabel" id="installed_count_label">
                                                        <property name="label">0 installed</property>
                                                        <property name="xalign">0</property>
                                                        <property name="margin-start">12</property>
                                                        <property name="margin-bottom">6</property>
                                                        <style>
                                                            <class name="dim-label"/>
                                                            <class name="caption"/>
                                                        </style>
                                                    </object>
                                                </child>
                                                <child>
                                                    <object class="GtkFrame">
                                                        <property name="vexpand">false</property>
                                                        <style>
                                                            <class name="view"/>
                                                        </style>
                                                        <child>
                                                            <object class="GtkScrolledWindow">
                                                                <property name="min-content-height">300</property>
                                                                <property name="max-content-height">400</property>
                                                                <property name="propagate-natural-height">true</property>
                                                                <child>
                                                                    <object class="GtkListBox" id="installed_kernels_list">
                                                                        <property name="selection-mode">single</property>
                                                                        <style>
                                                                            <class name="boxed-list"/>
                                                                        </style>
                                                                    </object>
                                                                </child>
                                                            </object>
                                                        </child>
                                                    </object>
                                                </child>
                                                <child>
                                                    <object class="GtkBox">
                                                        <property name="orientation">horizontal</property>
                                                        <property name="spacing">8</property>
                                                        <property name="halign">end</property>
                                                        <property name="margin-top">12</property>
                                                        <child>
                                                            <object class="GtkButton" id="btn_remove_kernel">
                                                                <property name="label">Remove Selected</property>
                                                                <style>
                                                                    <class name="destructive-action"/>
                                                                </style>
                                                            </object>
                                                        </child>
                                                    </object>
                                                </child>
                                            </object>
                                        </child>

                                        <!-- Available Kernels -->
                                        <child>
                                            <object class="AdwPreferencesGroup">
                                                <property name="title">Available Kernels</property>
                                                <child>
                                                    <object class="GtkLabel" id="available_count_label">
                                                        <property name="label">0 available</property>
                                                        <property name="xalign">0</property>
                                                        <property name="margin-start">12</property>
                                                        <property name="margin-bottom">6</property>
                                                        <style>
                                                            <class name="dim-label"/>
                                                            <class name="caption"/>
                                                        </style>
                                                    </object>
                                                </child>
                                                <child>
                                                    <object class="GtkFrame">
                                                        <property name="vexpand">false</property>
                                                        <style>
                                                            <class name="view"/>
                                                        </style>
                                                        <child>
                                                            <object class="GtkScrolledWindow">
                                                                <property name="min-content-height">300</property>
                                                                <property name="max-content-height">400</property>
                                                                <property name="propagate-natural-height">true</property>
                                                                <child>
                                                                    <object class="GtkListBox" id="available_kernels_list">
                                                                        <property name="selection-mode">single</property>
                                                                        <style>
                                                                            <class name="boxed-list"/>
                                                                        </style>
                                                                    </object>
                                                                </child>
                                                            </object>
                                                        </child>
                                                    </object>
                                                </child>
                                                <child>
                                                    <object class="GtkBox">
                                                        <property name="orientation">horizontal</property>
                                                        <property name="spacing">8</property>
                                                        <property name="halign">end</property>
                                                        <property name="margin-top">12</property>
                                                        <child>
                                                            <object class="GtkButton" id="btn_install_kernel">
                                                                <property name="label">Install Selected</property>
                                                                <style>
                                                                    <class name="suggested-action"/>
                                                                </style>
                                                            </object>
                                                        </child>
                                                    </object>
                                                </child>
                                            </object>
                                        </child>
                                    </object>
                                </child>

                                <!-- Actions Section -->
                                <child>
                                    <object class="AdwPreferencesGroup">
                                        <property name="title">Actions</property>
                                        <child>
                                            <object class="AdwActionRow">
                                                <property name="title">Refresh Kernel Lists</property>
                                                <property name="subtitle">Scan for available and installed kernels</property>
                                                <property name="activatable-widget">btn_refresh_kernels</property>
                                                <child>
                                                    <object class="GtkButton" id="btn_refresh_kernels">
                                                        <property name="icon-name">view-refresh-symbolic</property>
                                                        <property name="valign">center</property>
                                                        <style>
                                                            <class name="flat"/>
                                                        </style>
                                                    </object>
                                                </child>
                                            </object>
                                        </child>
                                    </object>
                                </child>

                                <!-- Information Section -->
                                <child>
                                    <object class="AdwPreferencesGroup">
                                        <property name="title">Information</property>
                                        <property name="description">Important notes about kernel management</property>
                                        <child>
                                            <object class="AdwActionRow">
                                                <property name="title">Automatic Headers Installation</property>
                                                <property name="subtitle">Kernel headers are automatically installed with each kernel</property>
                                                <child>
                                                    <object class="GtkImage">
                                                        <property name="icon-name">emblem-ok-symbolic</property>
                                                        <property name="valign">center</property>
                                                        <style>
                                                            <class name="success"/>
                                                        </style>
                                                    </object>
                                                </child>
                                            </object>
                                        </child>
                                        <child>
                                            <object class="AdwActionRow">
                                                <property name="title">Running Kernel Protection</property>
                                                <property name="subtitle">The currently running kernel cannot be removed</property>
                                                <child>
                                                    <object class="GtkImage">
                                                        <property name="icon-name">security-high-symbolic</property>
                                                        <property name="valign">center</property>
                                                        <style>
                                                            <class name="accent"/>
                                                        </style>
                                                    </object>
                                                </child>
                                            </object>
                                        </child>
                                        <child>
                                            <object class="AdwActionRow">
                                                <property name="title">Keep One Kernel</property>
                                                <property name="subtitle">Always keep at least one kernel installed for system boot</property>
                                                <child>
                                                    <object class="GtkImage">
                                                        <property name="icon-name">dialog-warning-symbolic</property>
                                                        <property name="valign">center</property>
                                                        <style>
                                                            <class name="warning"/>
                                                        </style>
                                                    </object>
                                                </child>
                                            </object>
                                        </child>
                                    </object>
                                </child>
                            </object>
                        </child>
                    </object>
                </child>
            </object>
        </child>
    </object>
</interface>
